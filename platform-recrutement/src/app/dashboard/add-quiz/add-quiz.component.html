<div class="py-12 px-4">
  <div class="container mx-auto p-8 bg-white">
    <!-- Navigation history -->
    <nav class="mb-6">
      <span class="text-gray-500">Quizzes </span>
      <span class="font-bold px-1"> > </span>
      <span class="text-[#d97a07]">Create a new quiz</span>
    </nav>

    <!-- Title and action buttons -->
      
    <form [formGroup]="multiChoiceForm">
        <div class="flex justify-between items-center mb-8">
          <div class="text-3xl poppins-medium text-black">Create a New MultipleChoiceQuestion</div>
          <div>
            <button class="bg-[#0D2E4D] text-white px-4 py-2 rounded mr-2 " type="submit"
              (click)="addMulti(multiChoiceForm)">Save</button>
              <button class="bg-[#5B7DB1] text-white px-4 py-2 rounded">
                <a routerLink="/dashboard/problem-quiz" routerLinkActive="active" >
                Cancel</a> </button>     
                   </div>
        </div>
          <div class="flex mb-4">
            <div class="w-1/2 mr-2">
              <label class="block text-[#1d2736] montserrat-medium mb-2">
                Title<span class="text-red-500">*</span>
              </label>
              <input type="text" formControlName="title"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5">
                <div
                *ngIf="multiChoiceForm.controls['title'].touched || multiChoiceForm.controls['title'].dirty ||isSubmitted">
                <div *ngIf="multiChoiceForm.controls['title'].hasError('required')"
                  class="mt-2 text-sm text-red-600 "> This field is required</div>
              </div>
              </div>
            <div class="w-1/2 ml-2">
              <label class="block text-[#1d2736] montserrat-medium mb-2">
                Category<span class="text-red-500">*</span>
              </label>
              <select name="category" id="category" formControlName="category" multiple
                        class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 ">
                        <option value="WEB_DEVELOPMENT">Web Development</option>
                        <option value="MOBILE_DEVELOPMENT">Mobile Development</option>
                        <option value="DATA_SCIENCE">Data Science</option>
                    </select>
              <div
                *ngIf="multiChoiceForm.controls['category'].touched || multiChoiceForm.controls['category'].dirty ||isSubmitted">
                <div *ngIf="multiChoiceForm.controls['category'].hasError('required')"
                  class="mt-2 text-sm text-red-600 "> This field is required</div>
              </div>
            </div>
          </div>
          <div class="mb-4">

          <label class="block text-[#1d2736] montserrat-medium mb-2">
            Difficulty<span class="text-red-500">*</span>
        </label>
        <select name="difficulty" id="difficulty" formControlName="difficulty"
                class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 ">
                <option>Easy</option>
                <option>Medium</option>
                <option>Hard</option>
            </select>
          <div *ngIf="multiChoiceForm.controls['difficulty'].touched || multiChoiceForm.controls['difficulty'].dirty || isSubmitted">
            <div *ngIf="multiChoiceForm.controls['difficulty'].hasError('required')"
                 class="mt-2 text-sm text-red-600 "> This field is required</div>
          </div> 
          </div>
        <!-- Question input -->
        <div class="mb-4">
          <label class="block text-[#1d2736] montserrat-medium mb-2">
            Question<span class="text-red-500">*</span>
          </label>
          <input type="text" formControlName="question"
            class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5">
            <div
            *ngIf="multiChoiceForm.controls['question'].touched || multiChoiceForm.controls['question'].dirty ||isSubmitted">
            <div *ngIf="multiChoiceForm.controls['question'].hasError('required')"
              class="mt-2 text-sm text-red-600 "> This field is required</div>
          </div>        
          </div>

        <!-- Duration and Points inputs -->
        <div class="flex mb-4">
          <div class="w-1/2 mr-2">
            <label class="block text-[#1d2736] montserrat-medium mb-2">
              Duration (seconds)
            </label>
            <input type="number" formControlName="duration"
              class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5">
              <div
              *ngIf="multiChoiceForm.controls['duration'].touched || multiChoiceForm.controls['duration'].dirty ||isSubmitted">
              <div *ngIf="multiChoiceForm.controls['duration'].hasError('required')"
                class="mt-2 text-sm text-red-600 "> This field is required</div>
            </div>
            </div>
          <div class="w-1/2 ml-2">
            <label class="block text-[#1d2736] montserrat-medium mb-2">
              Points
            </label>
            <input type="number" formControlName="points"
              class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5">
              <div
              *ngIf="multiChoiceForm.controls['points'].touched || multiChoiceForm.controls['points'].dirty ||isSubmitted">
              <div *ngIf="multiChoiceForm.controls['points'].hasError('required')"
                class="mt-2 text-sm text-red-600 "> This field is required</div>
            </div>
            </div>
        </div>

        <!-- Answer options -->
        <!-- Answer options -->
        <div class="mb-4 flex justify-between">
          <label class="block text-[#1d2736] montserrat-medium mb-2 w-2/3">
            Answer Options
          </label>
          <label class="flex text-[#5B7DB1] montserrat-medium mb-2  w-1/3">
            Mark Correct Answer
          </label>
        </div>

        <!-- Option inputs -->
        <div formArrayName="choices" *ngFor="let choice of choices.controls; let i=index">
          <div class="flex mb-2 items-center w-full" [formGroupName]="i">
            <div class="w-2/3 flex p-2 mb-2">
              <div class=" initials-circle  ">0{{i+1 }} </div><!-- Option number -->
              <div class="flex items-center px-4 w-full">
                <input type="text" formControlName="text" name="text"
                  class="bg-gray-50 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 mb-2 "
                  placeholder="option">
              </div>
            </div>
            <div class="w-1/3 flex  mb-2 py-2 items-center">
              <div class="px-6 text-gray-600" (click)="removeOption(i)">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
                  <path fill-rule="evenodd"
                    d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm2.78-4.22a.75.75 0 0 1-1.06 0L8 9.06l-1.72 1.72a.75.75 0 1 1-1.06-1.06L6.94 8 5.22 6.28a.75.75 0 0 1 1.06-1.06L8 6.94l1.72-1.72a.75.75 0 1 1 1.06 1.06L9.06 8l1.72 1.72a.75.75 0 0 1 0 1.06Z"
                    clip-rule="evenodd" />
                </svg>
              </div>
              <input type="checkbox" name="isCorrect" class="mx-6" formControlName="correct" value="true">
              <!-- Radio for marking as correct answer -->
            </div>

          </div>
        </div>
        <button class="border border-gray-500 text-black px-4 py-2 rounded" (click)="addOption()">Add Option</button>

    </form>
  </div>

</div>
